<!DOCTYPE html>
<meta charset="utf-8">
<link type="text/css" rel="stylesheet" href="./css/earthjs.css">
<svg id="earth"></svg>
<div class="set-options"></div>
<script src="./js/d3.min.js"></script>
<script src="./js/queue.v1.min.js"></script>
<script src="./js/topojson.v1.min.js"></script>
<script src="../src/earthjs.js"></script>
<script>
var checker = [
    'ocean:Ocean:showOcean',
    'hilight:Hilight:globeHighlighted',
    'shading:Shading:showGlobeShading',
    'country:Country:showCountries',
    'places:Places:showPlaces',
    'graticule:Graticule:showGraticule',
    'removeLand:Remove-Land:removeLand',
    'shadow:Shadow:showGlobeShadow',
].map((d)=>(d.split(':')));
d3.select('.set-options').selectAll('label').data(checker).enter()
    .append('button').text((d)=>(d[1])).attr('onclick',(d)=>(`buttonClick("${d.join(':')}")`));

var options = {
        // drawTick: 500,
        showOcean: true,
        showPlaces: true,
        showCountries: true,
        showGraticule: true,
        showGlobeShadow: true,
        showGlobeShading: true,
        globeHighlighted: true,
        world: './d/world-110m.json',
        places: './d/places.json',
        removeLand: false,
        ready: function() {
            console.log(this);
        }
    };
var p = earthjs(options);
p.register(earthjs.plugins.dragPlugin());
p.drag.bind();

p.register(earthjs.plugins.configPlugin());
// p.register(earthjs.plugins.placesPlugin());
p.register(earthjs.plugins.autorotatePlugin(10));

var buttonClick = function(str) {
    var arr = str.split(':'), key = arr[2];
    if (key==='removeLand') {
        p.config.removeLand();
        options.showCountries = false;
    } else {
        var resultx = {};
        options[key] = !options[key];
        resultx[key] =  options[key];
        p.config.set(resultx);
    }
}
</script>
