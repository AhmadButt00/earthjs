<!DOCTYPE html>
<meta charset="utf-8">
<link type="text/css" rel="stylesheet" href="./css/earthjs.css">
<script src="./js/d3.min.js"></script>
<script src="./js/topojson.min.js"></script>
<script src="../dist/earthjs.js"></script>
<style media="screen">
/*#earth .ocean {
    fill: rgb(117, 87, 57);
}*/
</style>
<div class="set-options"></div>
<svg id="earth"></svg>
<script>
var p = earthjs();
p.register(earthjs.plugins.autorotatePlugin(10));
p.register(earthjs.plugins.versorDragPlugin());
p.register(earthjs.plugins.wheelZoomPlugin());
p.register(earthjs.plugins.configPlugin());
p.register(earthjs.plugins.oceanPlugin());
p.register(earthjs.plugins.graticulePlugin());
p.register(earthjs.plugins.fauxGlobePlugin());
p.register(earthjs.plugins.placesPlugin('./d/places.json'));
p.register(earthjs.plugins.worldPlugin('./d/world-110m.json', './d/world-110m-country-names.tsv'));
p.register(earthjs.plugins.countryTooltipPlugin());
if (!p._.loadingData) {
    p.svgDraw();
}

var options = p.configPlugin.set();
var buttonClick = function(str) {
    var arr = str.split(':'), key = arr[2];
    var resultx = {};
    options[key] = !options[key];
    resultx[key] =  options[key];
    console.log(resultx);
    if (key=='hideCountries')
        resultx.hideLand = false;
    p.configPlugin.set(resultx);
};

var checker = [
    'ocean:Ocean:showOcean',
    'shading:Shading:showGlobeShading',
    'hilight:Hilight:showGlobeHilight',
    'graticule:Graticule:showGraticule',
    'hideLand:Land:showLand',
    'country:Country:showCountries',
    'places:Places:showPlaces',
    'shadow:Shadow:showGlobeShadow',
    'stop:Stop:stop',
].map(function(d) {return d.split(':')});
var opt = d3.select('.set-options');
opt.selectAll('button').data(checker).enter().append('button')
    .text(function(d) { return d[1]})
    .attr('onclick', function(d) {
        return 'buttonClick("'+d.join(':')+'")';
    });

// opt.selectAll('input').data([1]).enter().append('input');
</script>
