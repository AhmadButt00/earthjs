<!DOCTYPE html>
<meta charset="utf-8">
<link type="text/css" rel="stylesheet" href="./css/earthjs.css">
<script src="./js/d3.min.js"></script>
<script src="./js/topojson.min.js"></script>
<script src="../dist/earthjs.min.js"></script>
<div class="set-options"></div>
<svg id="earth"></svg>
<script>
var p = earthjs();
p.register(earthjs.plugins.autorotatePlugin(10));
p.register(earthjs.plugins.versorDragPlugin());
p.register(earthjs.plugins.wheelZoomPlugin());
p.register(earthjs.plugins.configPlugin());
p.register(earthjs.plugins.oceanPlugin());
p.register(earthjs.plugins.graticulePlugin());
p.register(earthjs.plugins.fauxGlobePlugin());
p.register(earthjs.plugins.placesPlugin('./d/places.json'));
p.register(earthjs.plugins.worldPlugin('./d/world-110m.json', './d/world-110m-country-names.tsv'));
p.register(earthjs.plugins.countryTooltipPlugin());
p.ticker().autorotatePlugin.stop();

var options = {removeLand: true};
var buttonClick = function(str) {
    var arr = str.split(':'), key = arr[2];
    var resultx = {};
    options[key] = !options[key];
    resultx[key] =  options[key];
    console.log(resultx);
    if (key=='hideCountries')
        resultx.hideLand = false;
    p.configPlugin.set(resultx);
};

var checker = [
    'ocean:Ocean:hideOcean',
    'shading:Shading:hideGlobeShading',
    'hilight:Hilight:hideGlobeHilight',
    'graticule:Graticule:hideGraticule',
    'hideLand:Land:hideLand',
    'country:Country:hideCountries',
    'places:Places:hidePlaces',
    'shadow:Shadow:hideGlobeShadow',
    'stop:Stop:stop',
].map(function(d) {return d.split(':')});
var opt = d3.select('.set-options');
opt.selectAll('button').data(checker).enter().append('button')
    .text(function(d) { return d[1]})
    .attr('onclick', function(d) {
        return 'buttonClick("'+d.join(':')+'")';
    });

// opt.selectAll('input').data([1]).enter().append('input');
</script>
